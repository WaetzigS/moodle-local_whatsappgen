/**
 * Code for WhatsApp Message generating
 *
 * @package     local_whatsappgen
 * @category    admin
 * @copyright   2024 Stephan Waetzig
 * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_whatsappgen/whatsapp",["jquery"],(function(e){return{init:function(t){e(document).ready((function(){function e(){var e=document.querySelectorAll('input[id^="user"]'),n=document.getElementById("select-all-participants");function o(){var e=document.querySelector(".btn-group"),t=document.createElement("img");t.src="../local/whatsappgen/pix/icon.png",t.alt="Published by: Creazilla, Author: Simple Icons Collaborators, Source: github.com/simple-icons/simple-icons, Public Domain. Free for editorial, educational, commercial, and/or personal projects. No attribution required.",t.width=24,t.height=24,t.style.float="right",t.id="walogo",t.style.cursor="pointer",t.addEventListener("mouseover",(function(){t.style.width="30px",t.style.height="30px"})),t.addEventListener("mouseout",(function(){t.style.width="25px",t.style.height="25px"})),e.appendChild(t)}function i(){var e=document.getElementById("walogo");e&&e.parentNode.removeChild(e)}function c(){var e=document.querySelectorAll('input[id^="user"]:checked'),n=[];if(e.forEach((function(e){n.push(e.name.replace("user",""))})),n.length>0&&t){var o="../local/whatsappgen/local_whatsappgen.php?userid="+encodeURIComponent(n.join(","))+"&courseid="+t;window.location=o}else window.alert("Fehler")}e.forEach((function(e){e.addEventListener("change",(function(){i(),document.querySelectorAll('input[id^="user"]:checked').length>0?(o(),walogo&&walogo.addEventListener("click",(function(){c()}))):i()}))})),n.addEventListener("change",(function(){i(),n.checked?(o(),walogo&&walogo.addEventListener("click",(function(){c()}))):i()}))}e(),filterbuttons=document.querySelectorAll(".btn.btn-primary"),filterbuttons.forEach((function(t){t.addEventListener("click",(function(){setTimeout((function(){e()}),2500)}))}))}))}}}));
